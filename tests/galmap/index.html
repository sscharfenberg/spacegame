<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8" />
        <title>Game Tests: Galactic Map</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="author" content="Sven Scharfenberg" />
        <link rel="stylesheet" href="../../public/css/main.css" />
        <script src="../../public/javascripts/vendor/modernizr/modernizr-2.6.3.min.js"></script>
    </head>
    <body>

        <h1>Game Tests: Galactic Map</h1>
        <ul>
            <li>IE9+, other somewhat modern browsers</li>
            <li>map data is fetched from server via JSON.</li>
            <li>map stage is fluid; while the canvas is not. Smaller Screen size - smaller viewport for map, map is not scaled (css scaling of canvas sucks big time).<br />NO window.resize handler since noone but devs does it anyway.</li>
            <li>Map and ruler are draggable - drag one and both change.</li>
            <li>snap back when dragged too far</li>
            <li>stars can be interacted with. at the moment, click on a star just outputs debug info to console since this is just a test. exact integration of map tbd.</li>
            <li>Map can be zoomed. Three zoom levels available. Since we do not scale the map but rather redraw it (scaling makes the map blurry), the position of the central tile is remembered and the square centered after "zooming".</li>
        </ul>

        <section class="map galactic clearfix">

            <div class="overlay loading">
                <div class="dialog loading">
                    <header>
                        <h1>Fetching Data From Server</h1>
                    </header>
                    <p>Please Wait.</p>
                    <div class="animation"></div>
                </div><!-- /dialog.loading -->
            </div><!-- /.overlay.loading -->
            <div class="overlay jsonfail">
                <div class="dialog jsonfail">
                    <header>
                        <h1>Error Fetching Data From Server.</h1>
                    </header>
                    <p>The server did not send the requested map data. Please check your internet connection, then</p>
                    <p><a href="" class="action button refresh">Try Again</a></p>
                </div><!-- /.dialog.jsonfail -->
            </div><!-- /.overlay.jsonfail -->

            <div class="theatre clearfix">
                <div class="stage left">
                    <a href="" class="mapbutton focushome">home</a>
                    <div id="viewPortRulerVert">
                        <canvas id="rulerVertCanvas" width="25" height="2000"></canvas>
                    </div>
                </div><!-- /.stage.left -->
                <div class="stage right">
                    <div id="viewPortRulerHorz">
                        <canvas id="rulerHorzCanvas" width="2000" height="25"></canvas>
                    </div>
                    <div id="mapViewPort">
                        <canvas id="mapCanvas" width="2000" height="2000"></canvas>
                    </div>
                    <nav role="navigation" class="zoom clearfix">
                        <a href="#" class="icon in">+</a>
                        <a href="#" class="icon out">-</a>
                    </nav>
                </div><!-- /.stage.right -->
            </div><!-- /.theatre -->

        </section><!-- /.map.galactic -->

        <p>TODO:</p>
        <ul>
            <li>Stars background is shamelessly stolen because I suck at photoshop.</li>
            <li>need something to show owner without cluttering or too many numbers</li>
        </ul>

<!-- bo Asynchronuous Javascripts ================================================================================== -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="../../public/javascripts/vendor/jquery/jquery-2.0.3.min.js"><\/script>')</script>
        <script src="../../public/javascripts/vendor/jquery/jcanvas/jcanvas.min.js"></script>
        <script src="../../public/javascripts/vendor/jquery/ui/jquery-ui-1.10.3.custom.min.js"></script>
        <script src="../../public/javascripts/game.src.js"></script>
        <script src="../../public/javascripts/galmap.src.js"></script>
<!-- eo Asynchronuous Javascripts ================================================================================== -->
    </body>
</html>
